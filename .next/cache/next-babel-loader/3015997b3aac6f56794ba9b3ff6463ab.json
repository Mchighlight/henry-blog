{"ast":null,"code":"import client from './sanity';\nimport imageUrlBuilder from '@sanity/image-url';\nconst blogFields = `\n  title,\n  subtitle,\n  'slug': slug.current,\n  date,\n  'author': author->{name, 'avatar': avatar.asset->url},\n  coverImage,\n`;\nconst builder = imageUrlBuilder(client);\nexport function urlFor(source) {\n  return builder.image(source);\n}\nexport async function getAllBlogs() {\n  const results = await client.fetch(`*[_type == \"blog\"]{${blogFields}}`);\n  return results;\n}\nexport async function getBlogBySlug(slug) {\n  const result = await client.fetch(`*[_type == \"blog\" && slug.current == $slug] {\n      ${blogFields}\n      content[]{..., \"asset\": asset->}\n    }`, {\n    slug\n  }).then(res => res === null || res === void 0 ? void 0 : res[0]);\n  return result;\n}","map":{"version":3,"sources":["C:/Users/Mchig/Desktop/Portfolio/henryblog/lib/api.js"],"names":["client","imageUrlBuilder","blogFields","builder","urlFor","source","image","getAllBlogs","results","fetch","getBlogBySlug","slug","result","then","res"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AAEA,MAAMC,UAAU,GAAI;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;AASA,MAAMC,OAAO,GAAGF,eAAe,CAACD,MAAD,CAA/B;AAEA,OAAO,SAASI,MAAT,CAAgBC,MAAhB,EAAwB;AAC7B,SAAOF,OAAO,CAACG,KAAR,CAAcD,MAAd,CAAP;AACD;AAED,OAAO,eAAeE,WAAf,GAA6B;AAClC,QAAMC,OAAO,GAAG,MAAMR,MAAM,CACzBS,KADmB,CACZ,sBAAqBP,UAAW,GADpB,CAAtB;AAEA,SAAOM,OAAP;AACD;AAGD,OAAO,eAAeE,aAAf,CAA6BC,IAA7B,EAAmC;AACxC,QAAMC,MAAM,GAAG,MAAMZ,MAAM,CACxBS,KADkB,CACX;AACZ,QAAQP,UAAW;AACnB;AACA,MAJuB,EAIf;AAACS,IAAAA;AAAD,GAJe,EAKlBE,IALkB,CAKbC,GAAG,IAAIA,GAAJ,aAAIA,GAAJ,uBAAIA,GAAG,CAAG,CAAH,CALG,CAArB;AAOA,SAAOF,MAAP;AAED","sourcesContent":["import client from './sanity';\r\nimport imageUrlBuilder from '@sanity/image-url';\r\n\r\nconst blogFields = `\r\n  title,\r\n  subtitle,\r\n  'slug': slug.current,\r\n  date,\r\n  'author': author->{name, 'avatar': avatar.asset->url},\r\n  coverImage,\r\n`\r\n\r\nconst builder = imageUrlBuilder(client)\r\n\r\nexport function urlFor(source) {\r\n  return builder.image(source);\r\n}\r\n\r\nexport async function getAllBlogs() {\r\n  const results = await client\r\n    .fetch(`*[_type == \"blog\"]{${blogFields}}`);\r\n  return results;\r\n}\r\n\r\n\r\nexport async function getBlogBySlug(slug) {\r\n  const result = await client\r\n    .fetch(`*[_type == \"blog\" && slug.current == $slug] {\r\n      ${blogFields}\r\n      content[]{..., \"asset\": asset->}\r\n    }`, {slug})\r\n    .then(res => res?.[0])\r\n\r\n  return result;\r\n\r\n}"]},"metadata":{},"sourceType":"module"}